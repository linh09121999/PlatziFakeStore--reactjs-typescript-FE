import{u as S,b as _,a as M,r as n,j as e,T as R,L as $,aa as z,y as w,ab as q}from"./index-DXJ3-PDI.js";const Q=()=>{const P={width:"60px","& .MuiOutlinedInput-root":{borderRadius:0,height:"40px",padding:"3px 8px",transition:"all 0.3s",fontSize:"var(--text-xl)",borderTop:"1px solid var(--color-orange-700)",borderBottom:"1px solid var(--color-orange-700)"},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{outline:"none",border:"none"},"& .MuiOutlinedInput-input":{padding:0},"& .MuiInputBase-input":{color:"black",fontSize:"var(--text-lg)",border:"none",textAlign:"center"}},l=S(),{icons:r,imgs:I,setResProductBy:j,resProductBy:a,setOrdersList:i,setOrdersNumber:c,ordersNumber:d,selectProductID:x,setSelectProductId:b,resProductRelateBy:p,setResProductRelateBy:f}=_(),N=async t=>{try{const s=await z(t);j(s.data)}catch(s){console.error("Lỗi khi gọi API getCategories",s),w.error("Lỗi khi gọi API getCategories"),j(void 0)}},v=async t=>{try{const s=await q(t);f(s.data)}catch(s){console.error("Lỗi khi gọi API getProductsRelatedById",s),w.error("Lỗi khi gọi API getProductsRelatedById"),f([])}},C=M(),{idProduct:o}=C.state||{};n.useEffect(()=>{o===void 0?l("/"):(N(o),b(o),v(o))},[]);const k=t=>{N(t),b(t),v(t)},[y,B]=n.useState(0),g=t=>{t.currentTarget.onerror=null,t.currentTarget.src=I.imgDefault},A=()=>{c(d+1),i(t=>[...t,a])},T=()=>{c(d+1),i(t=>[...t,a]),l("/cart")},E=t=>{c(d+1);const s=p.find(h=>h.id===t);s&&i(h=>[...h,s])},[u,m]=n.useState(()=>{const t=localStorage.getItem(`quantity_${x}`);return t?Number(t):1});n.useEffect(()=>{localStorage.setItem(`quantity_${x}`,u.toString())},[u,x]);const O=()=>m(t=>Math.max(1,t-1)),D=()=>m(t=>t+1),L=t=>{const s=Math.max(1,Number(t.target.value)||1);m(s)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full px-5 bg-gray-100 sticky z-[999] md:top-[120px] max-md:top-[142px]",children:e.jsxs("div",{className:"flex gap-2 max-w-[1500px] mx-auto items-center text-orange-700 py-[10px] text-xl max-md:text-lg ",children:[e.jsx("div",{onClick:()=>l("/"),className:"transition duration-300 ease css-icon",children:r.iconHome}),e.jsx("span",{children:r.iconNext}),e.jsx("div",{onClick:()=>l("/products"),className:"transition duration-300 ease css-icon",children:"Products"}),e.jsx("span",{children:r.iconNext}),e.jsx("div",{className:"transition duration-300 ease css-icon",children:a?.title})]})}),e.jsx("main",{className:"bg-gray-100 min-h-[75vh] flex flex-col p-5",children:e.jsxs("div",{className:"max-w-[1500px] mx-auto flex flex-col gap-10",children:[e.jsxs("section",{className:"grid md:grid-cols-[1fr_2fr] gap-10",children:[e.jsxs("div",{className:"relative flex flex-col gap-4",children:[e.jsx("img",{src:a?.images[y],alt:a?.title,className:"w-full max-h-[400px] object-center rounded-[10px] shadow-lg",onError:g}),e.jsx("div",{className:"flex gap-4",children:a?.images.map((t,s)=>e.jsx("button",{onClick:()=>{B(s)},children:e.jsx("img",{src:t,alt:`img ${s}`,onError:g,className:`w-[80px] h-[80px] object-cover object-center cursor-pointer transition-all rounded-[10px] shadow-lg ${y===s?"shadow-xl border-[2px] border-orange-700":""}`})}))})]}),e.jsxs("div",{className:" flex flex-col gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("p",{className:"text-black/50 text-xl",children:a?.category.name.toUpperCase()}),e.jsx("p",{className:"text-3xl font-bold",children:a?.title}),e.jsxs("p",{className:"text-orange-700 text-5xl font-bold",children:["$ ",a?.price]})]}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("h4",{className:"text-xl",children:"Quantity:"}),e.jsxs("div",{className:"flex",children:[e.jsx("button",{onClick:O,className:"text-xl rounded-[10px_0_0_10px] border-[1px] border-orange-700 px-4 py-2",children:r.iconDecrease}),e.jsx(R,{type:"number",value:u,variant:"outlined",sx:P,onChange:L}),e.jsx("button",{onClick:D,className:"text-xl rounded-[0_10px_10px_0] border-[1px] border-orange-700 px-4 py-2",children:r.iconIncrease})]})]}),e.jsxs("div",{className:"sm:grid lg:grid-cols-3 gap-4 max-lg:grid-cols-2 max-md:grid-cols-3 max-sm:flex max-sm:justify-between",children:[e.jsx("button",{className:"text-xl text-orange-700 border-[1px] border-orange-700 px-4 py-2 rounded-[10px] font-600 w-full",onClick:T,children:"Buy Now"}),e.jsxs("button",{className:"text-xl justify-center bg-orange-700 text-white px-4 py-2 rounded-[10px] flex gap-2 items-center",onClick:A,children:[r.iconCart,e.jsx("p",{className:"max-sm:hidden",children:"Add To Card"})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 max-lg:hidden",children:[e.jsx("p",{className:"text-xl font-bold",children:"Product description"}),e.jsx("p",{className:"text-xl text-black/70",children:a?.description})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 lg:hidden",children:[e.jsx("p",{className:"text-xl font-bold",children:"Product description"}),e.jsx("p",{className:"text-xl text-black/70",children:a?.description})]}),e.jsxs("section",{className:"flex flex-col gap-5",children:[e.jsx("h3",{className:"text-xl pb-2 border-b-[2px] border-b-gray-200",children:"RELATED PRODUCTS"}),p.length===0?e.jsx("p",{className:"text-center text-red-800",children:"! No data"}):e.jsx("div",{className:"grid lg:grid-cols-5 md:grid-cols-3 sm:grid-cols-2 gap-5 ",children:p.map(t=>e.jsxs("div",{className:"bg-white relative grid rounded-[10px] overflow-hidden shadow-lg text-center transition-all duration-300 ease group pointer hover:shadow-xl ",children:[e.jsxs("div",{className:"relative self-start ",children:[e.jsx("img",{src:t.images[0],alt:t.title,onError:g,className:"relative transition-all duration-300 ease group-hover:scale-105 group-hover:opacity-70"}),e.jsx("div",{className:"absolute top-[10px] left-[10px] bg-orange-700 text-white rounded-[5px] text-center py-1 px-2 text-sm group-hover:opacity-70",children:t.category.name}),e.jsx("button",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90px] h-[90px] rounded-full bg-orange-800 transition-all duration-300 ease text-white content-center opacity-0 group-hover:opacity-100 z-10",onClick:()=>{k(t.id)},children:"DETAIL"}),e.jsxs("div",{className:"px-3 pt-3",children:[e.jsx("p",{className:"text-start font-bold text-lg text-black/70",children:t.title}),e.jsxs("p",{className:"text-start text-orange-700 font-bold text-xl",children:["$ ",t.price," "]})]})]}),e.jsx("div",{className:"flex p-3 self-end gap-2",children:e.jsxs("button",{className:"bg-orange-700 text-white w-full justify-center px-4 py-2 rounded-[8px] relative flex gap-2 items-center transition-all duration-300 ease",onClick:()=>{E(t.id)},children:[r.iconCart,e.jsx("p",{className:"",children:"Add To Card"})]})})]},t.id))})]})]})}),e.jsx($,{position:"top-right",autoClose:3e3})]})};export{Q as default};
