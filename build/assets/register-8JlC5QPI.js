import{u as $,b as J,r as t,j as e,S as K,s as Q,B as A,A as V,c as W,T as h,I as n,F as X,d as Z,e as _,f as ee}from"./index-DYiBO4zQ.js";const te=Q(ee)(({theme:i})=>({width:"150px",height:"150px","& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:`0 0 0 2px ${i.palette.background.paper}`,"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}})),se=()=>{const i=$(),d={width:"100%","& .MuiOutlinedInput-root":{borderRadius:"10px",background:"var(--color-white)",height:"40px",padding:"3px 8px",transition:"all 0.3s",fontSize:"var(--text-xl)",border:"1px solid var(--color-gray-200)"},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{outline:"none",border:"none"},"& .MuiOutlinedInput-input":{padding:0},"& .MuiInputBase-input":{color:"black",fontSize:"var(--text-lg)",border:"none"}},F={position:"relative",width:"150px",height:"150px","&:hover .overlay":{opacity:1},boxShadow:"var(--shadow-lg)",border:"1px solid var(--color-gray-100)",borderRadius:"50%",overflow:"hidden",cursor:"pointer"},I={width:"100%",height:"100%"},B={position:"absolute",top:"50%",left:0,width:"100%",height:"50%",bgcolor:"rgba(0,0,0,0.4)",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.3s"},M={color:"white"},{icons:s,imgs:O}=J(),[o,f]=t.useState(!1),[b,U]=t.useState(""),[g,z]=t.useState(""),[c,T]=t.useState(""),[q,r]=t.useState(!1),[v,x]=t.useState(""),[j,L]=t.useState(""),p=t.useRef(null),[w,Y]=t.useState(""),[y,D]=t.useState(""),[u,N]=t.useState(""),[C,S]=t.useState(""),[k,P]=t.useState(""),G=async a=>{if(a.preventDefault(),r(!0),x(""),D(""),N(""),S(""),P(""),!p.current?.files?.length){P("Please choose a representative photo"),r(!1);return}if(c!==w){S("Passwords do not match!"),r(!1);return}if(c.length<8){N("Password must be at least 8 characters long!"),r(!1);return}const m=await Z(j);try{(await _({name:b,email:g,password:c,avatar:m})).data.email===g?(r(!0),i("/login")):(r(!0),x("Register false"))}catch(l){x(l.response?.data?.message||"Register false")}finally{r(!1)}},E=a=>{const m=a.target.files?.[0];if(!m)x("Please choose a representative photo");else{const l=new FileReader;l.onload=R=>{R.target?.result&&L(R.target.result)},l.readAsDataURL(m)}},H=()=>p.current?.click();return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"top-0 sticky z-100 px-5 bg-white",children:e.jsxs("div",{className:"max-w-[1500px] mx-auto py-5 flex items-end gap-4",children:[e.jsx("img",{alt:"logo",className:"h-12 max-md:h-10",src:O.logoColor}),e.jsx("p",{className:"text-3xl text-orange-700 font-bold max-md:text-2xl",children:"Platzi Fake Store"}),e.jsx("p",{className:"text-3xl border-l-[2px] border-l-orange-700 pl-[20px] max-sm:hidden",children:"Register"})]})}),e.jsx("div",{className:"min-h-[78.5vh] bg-gradient-to-r to-orange-600 from-orange-700 flex flex-col justify-center sm:px-6 lg:px-8",children:e.jsx("div",{className:"mx-auto w-full max-w-lg p-5",children:e.jsxs("div",{className:"bg-white py-4 pb-8 pt-4 shadow rounded-lg sm:px-10 px-4",children:[e.jsx("p",{className:"text-3xl font-600 text-orange-700 text-center mb-3 pb-[10px] border-b-[1px] border-b-gray-200",children:"Register"}),v&&e.jsx("div",{className:"bg-orange-700/20 border-[1px] border-orange-700/50 shadow-lg items-center justify-center mb-3 text-orange-700 text-lg py-1 rounded-[5px]",children:e.jsxs("p",{className:"text-center ",children:[v," !"]})}),e.jsxs("form",{className:"space-y-4",onSubmit:G,children:[e.jsxs("div",{className:" grid gap-3",children:[e.jsx(K,{direction:"row",spacing:2,sx:{marginInline:"auto"},children:e.jsx(te,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:e.jsxs(A,{sx:F,onClick:H,children:[e.jsx(V,{src:j,alt:"avatar",sx:I}),e.jsx(A,{className:"overlay",sx:B,children:e.jsx(W,{sx:M,children:s.iconCamera})}),e.jsx("input",{alt:"avata",type:"file",accept:"image/*",ref:p,name:"avatar",className:"hidden",onChange:E})]})})}),e.jsxs("div",{className:"w-full pt-[10px] flex",children:[e.jsx("label",{htmlFor:"avataInput",className:"mx-auto transition-all duration-300 ease cursor-pointer border-[1px] border-orange-700 text-orange-700 px-7 py-2 rounded-full hover:text-orange-600 hover:border-orange-600 hover:shadow-lg",children:"Upload avatar"}),e.jsx("input",{id:"avataInput",alt:"avata",type:"file",name:"avatar",accept:"image/*",ref:p,className:"hidden",onChange:E})]})]}),k&&e.jsxs("p",{className:"text-sm text-orange-700",children:[k," !"]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"name",className:"block text-xl font-medium text-gray-700",children:"Full Name"}),e.jsx(h,{type:"text",required:!0,autoComplete:"name",placeholder:"Your full name",name:"name",slotProps:{input:{startAdornment:e.jsx(n,{position:"start",children:s.iconUser})}},value:b,variant:"outlined",sx:d,onChange:a=>U(a.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"email",className:"block text-xl font-medium text-gray-700",children:"Email"}),e.jsx(h,{type:"email",required:!0,autoComplete:"email",placeholder:"Your email",name:"email",slotProps:{input:{startAdornment:e.jsx(n,{position:"start",children:s.iconMail})}},value:g,variant:"outlined",sx:d,onChange:a=>z(a.target.value)}),y&&e.jsxs("p",{className:"text-sm text-orange-700",children:[y," !"]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"password",className:"block text-xl font-medium text-gray-700",children:"Password"}),e.jsx(h,{type:o?"text":"password",required:!0,autoComplete:"new-password",placeholder:"Your password",name:"password",slotProps:{input:{startAdornment:e.jsx(n,{position:"start",children:s.iconLock}),endAdornment:e.jsx(n,{position:"end",children:e.jsx("button",{type:"button",onClick:()=>f(!o),children:o?s.iconEyeSlash:s.iconEye})})}},value:c,variant:"outlined",sx:d,onChange:a=>T(a.target.value)}),u&&e.jsxs("p",{className:"text-sm text-orange-700",children:[u," !"]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"password",className:"block text-xl font-medium text-gray-700",children:"Confirm the password"}),e.jsx(h,{type:o?"text":"password",required:!0,autoComplete:"new-password-confinn",placeholder:"Confirm password",name:"password",slotProps:{input:{startAdornment:e.jsx(n,{position:"start",children:s.iconLock}),endAdornment:e.jsx(n,{position:"end",children:e.jsx("button",{type:"button",onClick:()=>f(!o),children:o?s.iconEyeSlash:s.iconEye})})}},value:w,variant:"outlined",sx:d,onChange:a=>Y(a.target.value)}),u&&e.jsxs("p",{className:"text-sm text-orange-700",children:[u," !"]}),C&&e.jsxs("p",{className:"text-sm text-orange-700",children:[C," !"]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-[10px] shadow-sm text-lg font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition duration-200",children:q?"Register...":"Register"})})]}),e.jsx("div",{className:"pt-3 flex",children:e.jsxs("div",{className:"mx-auto",children:["There are accounts?",e.jsx("button",{className:"text-orange-700 hover:text-orange-800 hover:font-bold ml-[4px]",onClick:()=>{i("/login")},children:"Sign in now"})]})})]})})}),e.jsx(X,{})]})};export{se as default};
