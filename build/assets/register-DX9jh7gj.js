import{c as re,d as ae,g as ne,r as c,e as le,j as e,f as Q,h as Y,i as O,k as ie,l as ce,m as de,n as W,o as X,p as ue,q as J,s as pe,t as me,v as Z,w as z,x as F,y as xe,u as ge,b as fe,B as K,z as he,T,I as A,F as ve,A as be}from"./index-CrygCSCy.js";import{a as ye}from"./userService-BAPqGIXY.js";const je=re();function we({props:t,name:s,defaultTheme:o,themeId:r}){let i=ae(o);return r&&(i=i[r]||i),ne({theme:i,name:s,props:t})}const ke=ue(),Se=je("div",{name:"MuiStack",slot:"Root"});function Ne(t){return we({props:t,name:"MuiStack",defaultTheme:ke})}function Ce(t,s){const o=c.Children.toArray(t).filter(Boolean);return o.reduce((r,i,n)=>(r.push(i),n<o.length-1&&r.push(c.cloneElement(s,{key:`separator-${n}`})),r),[])}const Pe=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],Ae=({ownerState:t,theme:s})=>{let o={display:"flex",flexDirection:"column",...Y({theme:s},O({values:t.direction,breakpoints:s.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=ie(s),i=Object.keys(s.breakpoints.values).reduce((a,l)=>((typeof t.spacing=="object"&&t.spacing[l]!=null||typeof t.direction=="object"&&t.direction[l]!=null)&&(a[l]=!0),a),{}),n=O({values:t.direction,base:i}),d=O({values:t.spacing,base:i});typeof n=="object"&&Object.keys(n).forEach((a,l,f)=>{if(!n[a]){const x=l>0?n[f[l-1]]:"column";n[a]=x}}),o=ce(o,Y({theme:s},d,(a,l)=>t.useFlexGap?{gap:J(r,a)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Pe(l?n[l]:t.direction)}`]:J(r,a)}}))}return o=de(s.breakpoints,o),o};function Re(t={}){const{createStyledComponent:s=Se,useThemeProps:o=Ne,componentName:r="MuiStack"}=t,i=()=>W({root:["root"]},a=>X(r,a),{}),n=s(Ae);return c.forwardRef(function(a,l){const f=o(a),k=le(f),{component:x="div",direction:y="column",spacing:b=0,divider:S,children:g,className:u,useFlexGap:N=!1,...h}=k,j={direction:y,spacing:b,useFlexGap:N},w=i();return e.jsx(n,{as:x,ownerState:j,ref:l,className:Q(w.root,u),...h,children:S?Ce(g,S):g})})}const Fe=pe(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function Ee(t){return X("MuiAvatar",t)}me("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Ie=t=>{const{classes:s,variant:o,colorDefault:r}=t;return W({root:["root",o,r&&"colorDefault"],img:["img"],fallback:["fallback"]},Ee,s)},Be=F("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.root,s[o.variant],o.colorDefault&&s.colorDefault]}})(xe(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),Me=F("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Te=F(Fe,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function De({crossOrigin:t,referrerPolicy:s,src:o,srcSet:r}){const[i,n]=c.useState(!1);return c.useEffect(()=>{if(!o&&!r)return;n(!1);let d=!0;const p=new Image;return p.onload=()=>{d&&n("loaded")},p.onerror=()=>{d&&n("error")},p.crossOrigin=t,p.referrerPolicy=s,p.src=o,r&&(p.srcset=r),()=>{d=!1}},[t,s,o,r]),i}const Ue=c.forwardRef(function(s,o){const r=Z({props:s,name:"MuiAvatar"}),{alt:i,children:n,className:d,component:p="div",slots:a={},slotProps:l={},imgProps:f,sizes:k,src:x,srcSet:y,variant:b="circular",...S}=r;let g=null;const u={...r,component:p,variant:b},N=De({...f,...typeof l.img=="function"?l.img(u):l.img,src:x,srcSet:y}),h=x||y,j=h&&N!=="error";u.colorDefault=!j,delete u.ownerState;const w=Ie(u),[C,E]=z("root",{ref:o,className:Q(w.root,d),elementType:Be,externalForwardedProps:{slots:a,slotProps:l,component:p,...S},ownerState:u}),[D,I]=z("img",{className:w.img,elementType:Me,externalForwardedProps:{slots:a,slotProps:{img:{...f,...l.img}}},additionalProps:{alt:i,src:x,srcSet:y,sizes:k},ownerState:u}),[U,P]=z("fallback",{className:w.fallback,elementType:Te,externalForwardedProps:{slots:a,slotProps:l},shouldForwardComponentProp:!0,ownerState:u});return j?g=e.jsx(D,{...I}):n||n===0?g=n:h&&i?g=i[0]:g=e.jsx(U,{...P}),e.jsx(C,{...E,children:g})}),Oe=Re({createStyledComponent:F("div",{name:"MuiStack",slot:"Root"}),useThemeProps:t=>Z({props:t,name:"MuiStack"})}),ze=F(be)(({theme:t})=>({width:"150px",height:"150px","& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:`0 0 0 2px ${t.palette.background.paper}`,"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}})),qe=()=>{const t=ge(),s={width:"100%","& .MuiOutlinedInput-root":{borderRadius:"10px",background:"var(--color-white)",height:"40px",padding:"3px 8px",transition:"all 0.3s",fontSize:"var(--text-xl)",border:"1px solid var(--color-gray-200)"},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{outline:"none",border:"none"},"& .MuiOutlinedInput-input":{padding:0},"& .MuiInputBase-input":{color:"black",fontSize:"var(--text-lg)",border:"none"}},o={position:"relative",width:"150px",height:"150px","&:hover .overlay":{opacity:1},boxShadow:"var(--shadow-lg)",border:"1px solid var(--color-gray-100)",borderRadius:"50%",overflow:"hidden",cursor:"pointer"},r={width:"100%",height:"100%"},i={position:"absolute",top:"50%",left:0,width:"100%",height:"50%",bgcolor:"rgba(0,0,0,0.4)",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.3s"},n={color:"white"},{icons:d,imgs:p}=fe(),[a,l]=c.useState(!1),[f,k]=c.useState(""),[x,y]=c.useState(""),[b,S]=c.useState(""),[g,u]=c.useState(!1),[N,h]=c.useState(""),[j,w]=c.useState(""),C=c.useRef(null),[E,D]=c.useState(""),[I,U]=c.useState(""),[P,L]=c.useState(""),[V,q]=c.useState(""),[G,$]=c.useState(""),_=async m=>{if(m.preventDefault(),u(!0),h(""),U(""),L(""),q(""),$(""),!C.current?.files?.length){$("Please choose a representative photo"),u(!1);return}if(b!==E){q("Passwords do not match!"),u(!1);return}if(b.length<8){L("Password must be at least 8 characters long!"),u(!1);return}try{(await ye({name:f,email:x,password:b,avatar:j})).data.email===x?(u(!0),t("/login")):(u(!0),h("Register false"))}catch(v){console.error("Error:",v),h("Register false")}finally{u(!1)}},ee=m=>{const v=atob(m.split(",")[1]),B=m.split(",")[0].split(":")[1].split(";")[0],R=new ArrayBuffer(v.length),se=new Uint8Array(R);for(let M=0;M<v.length;M++)se[M]=v.charCodeAt(M);const oe=new Blob([R],{type:B});return URL.createObjectURL(oe)},H=m=>{const v=m.target.files?.[0];if(!v)h("Please choose a representative photo");else{const B=new FileReader;B.onload=R=>{R.target?.result&&w(ee(R.target.result))},B.readAsDataURL(v)}},te=()=>C.current?.click();return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"top-0 sticky z-100 px-5 bg-white",children:e.jsxs("div",{className:"max-w-[1500px] mx-auto py-5 md:flex items-end grid gap-4",children:[e.jsx("img",{alt:"logo",className:"h-12 max-md:h-10",src:p.logoColor}),e.jsx("p",{className:"text-3xl text-orange-700 font-bold max-md:text-2xl",children:"SPEE SHOP"}),e.jsx("p",{className:"text-3xl border-l-[2px] border-l-orange-700 pl-[20px]",children:"Register"})]})}),e.jsx("div",{className:"min-h-[78.5vh] bg-gradient-to-r to-orange-600 from-orange-700 flex flex-col justify-center sm:px-6 lg:px-8",children:e.jsx("div",{className:"mx-auto w-full max-w-lg p-5",children:e.jsxs("div",{className:"bg-white py-4 px-4 shadow rounded-lg sm:px-10",children:[e.jsx("p",{className:"text-3xl font-600 text-orange-700 text-center mb-3 pb-[10px] border-b-[1px] border-b-gray-200",children:"Register"}),N&&e.jsx("div",{className:"bg-orange-700/20 border-[1px] border-orange-700/50 shadow-lg items-center mb-3 text-orange-700 text-lg py-1 rounded-[5px]",children:e.jsxs("p",{className:"text-center ",children:[N," !"]})}),e.jsxs("form",{className:"space-y-4",onSubmit:_,children:[e.jsxs("div",{className:"justify-self-center mx-auto flex flex-col gap-3",children:[e.jsx(Oe,{direction:"row",spacing:2,children:e.jsx(ze,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:e.jsxs(K,{sx:o,onClick:te,children:[e.jsx(Ue,{src:j,alt:"avatar",sx:r}),e.jsx(K,{className:"overlay",sx:i,children:e.jsx(he,{sx:n,children:d.iconCamera})}),e.jsx("input",{alt:"avata",type:"file",accept:"image/*",ref:C,name:"avatar",className:"hidden",onChange:H})]})})}),e.jsxs("div",{className:"w-full pt-[10px]",children:[e.jsx("label",{htmlFor:"avataInput",className:" transition-all duration-300 ease cursor-pointer border-[1px] border-gray-300 px-7 py-2 rounded-full hover:text-orange-700 hover:border-orange-700 ",children:"Upload avatar"}),e.jsx("input",{id:"avataInput",alt:"avata",type:"file",name:"avatar",accept:"image/*",ref:C,className:"hidden",onChange:H})]})]}),G&&e.jsxs("p",{className:"text-sm text-orange-700",children:[G," !"]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"name",className:"block text-xl font-medium text-gray-700",children:"Full Name"}),e.jsx(T,{type:"text",required:!0,autoComplete:"name",placeholder:"Your full name",name:"name",slotProps:{input:{startAdornment:e.jsx(A,{position:"start",children:d.iconUser})}},value:f,variant:"outlined",sx:s,onChange:m=>k(m.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"email",className:"block text-xl font-medium text-gray-700",children:"Email"}),e.jsx(T,{type:"email",required:!0,autoComplete:"email",placeholder:"Your email",name:"email",slotProps:{input:{startAdornment:e.jsx(A,{position:"start",children:d.iconMail})}},value:x,variant:"outlined",sx:s,onChange:m=>y(m.target.value)}),I&&e.jsxs("p",{className:"text-sm text-orange-700",children:[I," !"]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"password",className:"block text-xl font-medium text-gray-700",children:"Password"}),e.jsx(T,{type:a?"text":"password",required:!0,autoComplete:"new-password",placeholder:"Your password",name:"password",slotProps:{input:{startAdornment:e.jsx(A,{position:"start",children:d.iconLock}),endAdornment:e.jsx(A,{position:"end",children:e.jsx("button",{type:"button",onClick:()=>l(!a),children:a?d.iconEyeSlash:d.iconEye})})}},value:b,variant:"outlined",sx:s,onChange:m=>S(m.target.value)}),P&&e.jsxs("p",{className:"text-sm text-orange-700",children:[P," !"]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"password",className:"block text-xl font-medium text-gray-700",children:"Confirm the password"}),e.jsx(T,{type:a?"text":"password",required:!0,autoComplete:"new-password-confinn",placeholder:"Confirm password",name:"password",slotProps:{input:{startAdornment:e.jsx(A,{position:"start",children:d.iconLock}),endAdornment:e.jsx(A,{position:"end",children:e.jsx("button",{type:"button",onClick:()=>l(!a),children:a?d.iconEyeSlash:d.iconEye})})}},value:E,variant:"outlined",sx:s,onChange:m=>D(m.target.value)}),P&&e.jsxs("p",{className:"text-sm text-orange-700",children:[P," !"]}),V&&e.jsxs("p",{className:"text-sm text-orange-700",children:[V," !"]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-[10px] shadow-sm text-lg font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition duration-200",children:g?"Register...":"Register"})})]}),e.jsxs("p",{className:"pt-3 text-center flex gap-1 justify-self-center mx-auto",children:["There are accounts?",e.jsx("button",{className:"text-orange-700 hover:text-orange-800 hover:font-bold",onClick:()=>{t("/login")},children:"Sign in now"})]})]})})}),e.jsx(ve,{})]})};export{qe as default};
