import{c as ee,d as te,g as se,r as c,e as ae,j as e,f as K,h as H,i as D,k as oe,l as re,m as ne,n as Q,o as W,p as le,q as Y,s as ie,t as ce,v as X,w as U,x as A,y as de,u as ue,b as pe,B as J,z as me,T as B,I as P,F as xe,A as ge}from"./index-CQsLbIRN.js";import{u as fe,a as he}from"./userService-C9ATZqEP.js";const ve=ee();function be({props:t,name:s,defaultTheme:a,themeId:o}){let i=te(a);return o&&(i=i[o]||i),se({theme:i,name:s,props:t})}const ye=le(),je=ve("div",{name:"MuiStack",slot:"Root"});function we(t){return be({props:t,name:"MuiStack",defaultTheme:ye})}function ke(t,s){const a=c.Children.toArray(t).filter(Boolean);return a.reduce((o,i,n)=>(o.push(i),n<a.length-1&&o.push(c.cloneElement(s,{key:`separator-${n}`})),o),[])}const Se=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],Ne=({ownerState:t,theme:s})=>{let a={display:"flex",flexDirection:"column",...H({theme:s},D({values:t.direction,breakpoints:s.breakpoints.values}),o=>({flexDirection:o}))};if(t.spacing){const o=oe(s),i=Object.keys(s.breakpoints.values).reduce((r,l)=>((typeof t.spacing=="object"&&t.spacing[l]!=null||typeof t.direction=="object"&&t.direction[l]!=null)&&(r[l]=!0),r),{}),n=D({values:t.direction,base:i}),d=D({values:t.spacing,base:i});typeof n=="object"&&Object.keys(n).forEach((r,l,f)=>{if(!n[r]){const m=l>0?n[f[l-1]]:"column";n[r]=m}}),a=re(a,H({theme:s},d,(r,l)=>t.useFlexGap?{gap:Y(o,r)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Se(l?n[l]:t.direction)}`]:Y(o,r)}}))}return a=ne(s.breakpoints,a),a};function Ce(t={}){const{createStyledComponent:s=je,useThemeProps:a=we,componentName:o="MuiStack"}=t,i=()=>Q({root:["root"]},r=>W(o,r),{}),n=s(Ne);return c.forwardRef(function(r,l){const f=a(r),w=ae(f),{component:m="div",direction:b="column",spacing:v=0,divider:k,children:g,className:u,useFlexGap:S=!1,...h}=w,y={direction:b,spacing:v,useFlexGap:S},j=i();return e.jsx(n,{as:m,ownerState:y,ref:l,className:K(j.root,u),...h,children:k?ke(g,k):g})})}const Pe=ie(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function Re(t){return W("MuiAvatar",t)}ce("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Ae=t=>{const{classes:s,variant:a,colorDefault:o}=t;return Q({root:["root",a,o&&"colorDefault"],img:["img"],fallback:["fallback"]},Re,s)},Fe=A("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.variant],a.colorDefault&&s.colorDefault]}})(de(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),Ie=A("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Ee=A(Pe,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function Be({crossOrigin:t,referrerPolicy:s,src:a,srcSet:o}){const[i,n]=c.useState(!1);return c.useEffect(()=>{if(!a&&!o)return;n(!1);let d=!0;const p=new Image;return p.onload=()=>{d&&n("loaded")},p.onerror=()=>{d&&n("error")},p.crossOrigin=t,p.referrerPolicy=s,p.src=a,o&&(p.srcset=o),()=>{d=!1}},[t,s,a,o]),i}const Me=c.forwardRef(function(s,a){const o=X({props:s,name:"MuiAvatar"}),{alt:i,children:n,className:d,component:p="div",slots:r={},slotProps:l={},imgProps:f,sizes:w,src:m,srcSet:b,variant:v="circular",...k}=o;let g=null;const u={...o,component:p,variant:v},S=Be({...f,...typeof l.img=="function"?l.img(u):l.img,src:m,srcSet:b}),h=m||b,y=h&&S!=="error";u.colorDefault=!y,delete u.ownerState;const j=Ae(u),[N,F]=U("root",{ref:a,className:K(j.root,d),elementType:Fe,externalForwardedProps:{slots:r,slotProps:l,component:p,...k},ownerState:u}),[M,I]=U("img",{className:j.img,elementType:Ie,externalForwardedProps:{slots:r,slotProps:{img:{...f,...l.img}}},additionalProps:{alt:i,src:m,srcSet:b,sizes:w},ownerState:u}),[T,C]=U("fallback",{className:j.fallback,elementType:Ee,externalForwardedProps:{slots:r,slotProps:l},shouldForwardComponentProp:!0,ownerState:u});return y?g=e.jsx(M,{...I}):n||n===0?g=n:h&&i?g=i[0]:g=e.jsx(T,{...C}),e.jsx(N,{...F,children:g})}),Te=Ce({createStyledComponent:A("div",{name:"MuiStack",slot:"Root"}),useThemeProps:t=>X({props:t,name:"MuiStack"})}),De=A(ge)(({theme:t})=>({width:"150px",height:"150px","& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:`0 0 0 2px ${t.palette.background.paper}`,"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}})),ze=()=>{const t=ue(),s={width:"100%","& .MuiOutlinedInput-root":{borderRadius:"10px",background:"var(--color-white)",height:"40px",padding:"3px 8px",transition:"all 0.3s",fontSize:"var(--text-xl)",border:"1px solid var(--color-gray-200)"},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{outline:"none",border:"none"},"& .MuiOutlinedInput-input":{padding:0},"& .MuiInputBase-input":{color:"black",fontSize:"var(--text-lg)",border:"none"}},a={position:"relative",width:"150px",height:"150px","&:hover .overlay":{opacity:1},boxShadow:"var(--shadow-lg)",border:"1px solid var(--color-gray-100)",borderRadius:"50%",overflow:"hidden",cursor:"pointer"},o={width:"100%",height:"100%"},i={position:"absolute",top:"50%",left:0,width:"100%",height:"50%",bgcolor:"rgba(0,0,0,0.4)",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.3s"},n={color:"white"},{icons:d,imgs:p}=pe(),[r,l]=c.useState(!1),[f,w]=c.useState(""),[m,b]=c.useState(""),[v,k]=c.useState(""),[g,u]=c.useState(!1),[S,h]=c.useState(""),[y,j]=c.useState(""),N=c.useRef(null),[F,M]=c.useState(""),[I,T]=c.useState(""),[C,O]=c.useState(""),[z,V]=c.useState(""),[q,L]=c.useState(""),Z=async x=>{if(x.preventDefault(),u(!0),h(""),T(""),O(""),V(""),L(""),!N.current?.files?.length){L("Please choose a representative photo"),u(!1);return}if(v!==F){V("Passwords do not match!"),u(!1);return}if(v.length<8){O("Password must be at least 8 characters long!"),u(!1);return}const E=await fe(y);try{(await he({name:f,email:m,password:v,avatar:E})).data.email===m?(u(!0),t("/login")):(u(!0),h("Register false"))}catch(R){console.error("Error:",R),h("Register false")}finally{u(!1)}},G=x=>{const E=x.target.files?.[0];if(!E)h("Please choose a representative photo");else{const R=new FileReader;R.onload=$=>{$.target?.result&&j($.target.result)},R.readAsDataURL(E)}},_=()=>N.current?.click();return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"top-0 sticky z-100 px-5 bg-white",children:e.jsxs("div",{className:"max-w-[1500px] mx-auto py-5 flex items-end gap-4",children:[e.jsx("img",{alt:"logo",className:"h-12 max-md:h-10",src:p.logoColor}),e.jsx("p",{className:"text-3xl text-orange-700 font-bold max-md:text-2xl",children:"SPEE SHOP"}),e.jsx("p",{className:"text-3xl border-l-[2px] border-l-orange-700 pl-[20px] max-sm:hidden",children:"Register"})]})}),e.jsx("div",{className:"min-h-[78.5vh] bg-gradient-to-r to-orange-600 from-orange-700 flex flex-col justify-center sm:px-6 lg:px-8",children:e.jsx("div",{className:"mx-auto w-full max-w-lg p-5",children:e.jsxs("div",{className:"bg-white py-4 pb-8 pt-4 shadow rounded-lg sm:px-10 px-4",children:[e.jsx("p",{className:"text-3xl font-600 text-orange-700 text-center mb-3 pb-[10px] border-b-[1px] border-b-gray-200",children:"Register"}),S&&e.jsx("div",{className:"bg-orange-700/20 border-[1px] border-orange-700/50 shadow-lg items-center mb-3 text-orange-700 text-lg py-1 rounded-[5px]",children:e.jsxs("p",{className:"text-center ",children:[S," !"]})}),e.jsxs("form",{className:"space-y-4",onSubmit:Z,children:[e.jsxs("div",{className:"justify-self-center mx-auto flex flex-col gap-3",children:[e.jsx(Te,{direction:"row",spacing:2,children:e.jsx(De,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:e.jsxs(J,{sx:a,onClick:_,children:[e.jsx(Me,{src:y,alt:"avatar",sx:o}),e.jsx(J,{className:"overlay",sx:i,children:e.jsx(me,{sx:n,children:d.iconCamera})}),e.jsx("input",{alt:"avata",type:"file",accept:"image/*",ref:N,name:"avatar",className:"hidden",onChange:G})]})})}),e.jsxs("div",{className:"w-full pt-[10px]",children:[e.jsx("label",{htmlFor:"avataInput",className:" transition-all duration-300 ease cursor-pointer border-[1px] border-orange-700 text-orange-700 px-7 py-2 rounded-full hover:text-orange-600 hover:border-orange-600 hover:shadow-lg",children:"Upload avatar"}),e.jsx("input",{id:"avataInput",alt:"avata",type:"file",name:"avatar",accept:"image/*",ref:N,className:"hidden",onChange:G})]})]}),q&&e.jsxs("p",{className:"text-sm text-orange-700",children:[q," !"]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"name",className:"block text-xl font-medium text-gray-700",children:"Full Name"}),e.jsx(B,{type:"text",required:!0,autoComplete:"name",placeholder:"Your full name",name:"name",slotProps:{input:{startAdornment:e.jsx(P,{position:"start",children:d.iconUser})}},value:f,variant:"outlined",sx:s,onChange:x=>w(x.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"email",className:"block text-xl font-medium text-gray-700",children:"Email"}),e.jsx(B,{type:"email",required:!0,autoComplete:"email",placeholder:"Your email",name:"email",slotProps:{input:{startAdornment:e.jsx(P,{position:"start",children:d.iconMail})}},value:m,variant:"outlined",sx:s,onChange:x=>b(x.target.value)}),I&&e.jsxs("p",{className:"text-sm text-orange-700",children:[I," !"]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"password",className:"block text-xl font-medium text-gray-700",children:"Password"}),e.jsx(B,{type:r?"text":"password",required:!0,autoComplete:"new-password",placeholder:"Your password",name:"password",slotProps:{input:{startAdornment:e.jsx(P,{position:"start",children:d.iconLock}),endAdornment:e.jsx(P,{position:"end",children:e.jsx("button",{type:"button",onClick:()=>l(!r),children:r?d.iconEyeSlash:d.iconEye})})}},value:v,variant:"outlined",sx:s,onChange:x=>k(x.target.value)}),C&&e.jsxs("p",{className:"text-sm text-orange-700",children:[C," !"]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"password",className:"block text-xl font-medium text-gray-700",children:"Confirm the password"}),e.jsx(B,{type:r?"text":"password",required:!0,autoComplete:"new-password-confinn",placeholder:"Confirm password",name:"password",slotProps:{input:{startAdornment:e.jsx(P,{position:"start",children:d.iconLock}),endAdornment:e.jsx(P,{position:"end",children:e.jsx("button",{type:"button",onClick:()=>l(!r),children:r?d.iconEyeSlash:d.iconEye})})}},value:F,variant:"outlined",sx:s,onChange:x=>M(x.target.value)}),C&&e.jsxs("p",{className:"text-sm text-orange-700",children:[C," !"]}),z&&e.jsxs("p",{className:"text-sm text-orange-700",children:[z," !"]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-[10px] shadow-sm text-lg font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition duration-200",children:g?"Register...":"Register"})})]}),e.jsxs("p",{className:"pt-3 text-center flex gap-1 justify-self-center mx-auto",children:["There are accounts?",e.jsx("button",{className:"text-orange-700 hover:text-orange-800 hover:font-bold",onClick:()=>{t("/login")},children:"Sign in now"})]})]})})}),e.jsx(xe,{})]})};export{ze as default};
