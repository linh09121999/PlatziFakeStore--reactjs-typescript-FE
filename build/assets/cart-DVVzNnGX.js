import{u as I,a as S,r as h,j as e,U as k,L as O,y as g}from"./index-ubVIwWsg.js";const _=()=>{const i=I(),{icons:n,imgs:d,ordersList:a,setOrdersList:x,ordersNumber:m,setOrdersNumber:c}=S(),b={width:"60px","& .MuiOutlinedInput-root":{borderRadius:0,height:"40px",padding:"3px 8px",transition:"all 0.3s",fontSize:"var(--text-xl)",borderTop:"1px solid var(--color-orange-700)",borderBottom:"1px solid var(--color-orange-700)"},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{outline:"none",border:"none"},"& .MuiOutlinedInput-input":{padding:0},"& .MuiInputBase-input":{color:"black",fontSize:"var(--text-lg)",border:"none",textAlign:"center"}},[o,p]=h.useState({});h.useEffect(()=>{const t={};a.forEach(s=>{const r=localStorage.getItem(`quantity_${s.id}`);t[s.id]=r?Number(r):1}),p(t)},[a]);const l=(t,s)=>{p(r=>{const C={...r,[t]:s};return localStorage.setItem(`quantity_${t}`,String(s)),C})},j=t=>{l(t,Math.max(1,(o[t]||1)-1))},f=t=>{l(t,(o[t]||1)+1)},v=(t,s)=>{const r=Math.max(1,Number(s.target.value)||1);l(t,r)},N=t=>{t.currentTarget.onerror=null,t.currentTarget.src=d.imgDefault},y=t=>{const s=a.filter(r=>r.id!==t);x(s),c(m-1),localStorage.removeItem(`quantity_${t}`)},u=a.reduce((t,s)=>t+s.price*(o[s.id]||1),0),w=()=>{a.length===0?g.error("There is no product in the cart"):(g.success("Successful order!"),x([]),c(0))};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full px-5 bg-gray-100 sticky z-[999] md:top-[120px] max-md:top-[135px]",children:e.jsxs("div",{className:"flex gap-2 max-w-[1500px] mx-auto items-center text-orange-700 py-[10px] text-xl max-md:text-lg",children:[e.jsx("div",{onClick:()=>i("/"),className:"transition duration-300 ease css-icon",children:n.iconHome}),e.jsx("span",{children:n.iconNext}),e.jsx("div",{className:"transition duration-300 ease css-icon",children:"Cart"})]})}),e.jsx("main",{className:"bg-gray-100 min-h-[70vh] p-5",children:e.jsxs("div",{className:"max-w-[1500px] mx-auto items-center flex gap-5",children:[e.jsxs("div",{className:"flex flex-col gap-6 self-start rounded-[10px] bg-white p-5 flex-1",children:[e.jsx("h3",{className:"text-xl pb-2 border-b-[1px] border-b-gray-300",children:"PRODUCTS"}),a.length===0?e.jsx("img",{src:d.imgNoItem,alt:"no items"}):e.jsx(e.Fragment,{children:a.map(t=>e.jsxs("div",{className:"rounded-[10px] relative flex gap-4 overflow-hidden shadow-lg text-center transition-all duration-300 ease group pointer hover:shadow-xl",children:[e.jsx("img",{src:t.images[0],alt:t.title,onError:N,className:"relative h-[160px] transition-all duration-300 ease group-hover:scale-105 group-hover:opacity-70"}),e.jsxs("div",{className:"flex gap-2 p-5 justify-between items-center w-full",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("p",{className:"text-2xl text-start font-bold",children:t.title}),e.jsxs("p",{className:"text-xl text-start text-orange-700 bg-orange-700/20 w-fit py-1 px-6  rounded-full font-bold border-[1px] border-orange-700/20 shadow-lg",children:["$ ",t.price]})]}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs("div",{className:"flex",children:[e.jsx("button",{onClick:()=>j(t.id),className:"text-xl rounded-[10px_0_0_10px] border-[1px] border-orange-700 px-4 py-2",children:n.iconDecrease}),e.jsx(k,{value:o[t.id]||1,variant:"outlined",sx:b,onChange:s=>v(t.id,s)}),e.jsx("button",{onClick:()=>f(t.id),className:"text-xl rounded-[0_10px_10px_0] border-[1px] border-orange-700 px-4 py-2",children:n.iconIncrease})]}),e.jsx("button",{onClick:()=>y(t.id),className:"text-orange-700 text-xl",children:"Delete"})]})]})]},t.id))}),e.jsx("div",{children:e.jsxs("button",{onClick:()=>i("/products"),className:"css-next shadow-lg flex gap-2 border-[1px] border-orange-700 text-orange-700 rounded-[10px] px-4 py-2 w-fit justify-self-center",children:[e.jsx("span",{className:"rotate-[180deg]",children:n.iconNext}),"Continue to buy products"]})})]}),e.jsxs("div",{className:"bg-white p-5 rounded-[10px] shadow-lg flex flex-col gap-5 self-start w-[350px]",children:[e.jsx("h3",{className:"text-xl pb-2 border-b-[1px] border-b-gray-300",children:"PAYMENT"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex justify-between text-lg",children:[e.jsx("p",{children:"Subtotal"}),e.jsxs("p",{children:["$ ",u.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-lg",children:[e.jsx("p",{children:"Shipping fee"}),e.jsx("p",{children:"$ 0"})]}),e.jsxs("div",{className:"flex justify-between text-lg",children:[e.jsx("p",{children:"Discount"}),e.jsx("p",{children:"$ 0"})]})]}),e.jsxs("div",{className:"pt-2 border-t-[1px] border-t-gray-300 flex justify-between text-xl",children:[e.jsx("p",{children:"Total"}),e.jsxs("p",{children:["$ ",u.toFixed(2)]})]}),e.jsx("button",{onClick:w,className:"py-2 text-white font-bold rounded-[10px] bg-orange-700",children:"Checkout"})]})]})}),e.jsx(O,{position:"top-right",autoClose:3e3})]})};export{_ as default};
