import{u as L,a as C,b as P,r as c,j as e,T as b,I as x,F,p as O}from"./index-CRS9ORkJ.js";const T=({onLoginSuccess:j})=>{const s=L(),r=C(),u={width:"100%","& .MuiOutlinedInput-root":{borderRadius:"10px",background:"var(--color-white)",height:"40px",padding:"3px 8px",transition:"all 0.3s",fontSize:"var(--text-xl)",border:"1px solid var(--color-gray-200)"},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{outline:"none",border:"none"},"& .MuiOutlinedInput-input":{padding:0},"& .MuiInputBase-input":{color:"black",fontSize:"var(--text-lg)",border:"none"}},{icons:a,imgs:v,email:n,setEmail:y,password:m,setPassword:w,setToken:N}=P(),[p,l]=c.useState(""),[I,g]=c.useState(!1),[i,k]=c.useState(!1),S=r.state?.from?.pathname||"/",E=async t=>{t.preventDefault(),l(""),g(!0);try{const o=await O({email:n,password:m}),d=o.data?.access_token||o.data?.token;d?(N(d),j(d,n),r.state?.name==="web"?(localStorage.setItem("userEmail",n),s("/",{replace:!0})):r.state?.name==="dashboard"?s("/admin",{replace:!0}):s(S,{replace:!0})):l("No token found in feedback!")}catch(o){l(o.response?.data?.message||"Login failed!")}finally{g(!1)}},h=t=>{t.currentTarget.setCustomValidity("")},f=t=>{t.currentTarget.setCustomValidity("Unable to leave empty!")};return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"top-0 sticky z-100 px-5 bg-white",children:e.jsxs("div",{className:"max-w-[1500px] mx-auto py-5 flex items-end gap-4",children:[e.jsx("img",{alt:"logo",className:"h-12 max-md:h-10",src:v.logoColor}),e.jsx("p",{className:"text-3xl text-orange-700 font-bold max-md:text-2xl",children:"SPEE SHOP"}),e.jsx("p",{className:"text-3xl border-l-[2px] border-l-orange-700 pl-[20px] max-sm:hidden",children:"Login"})]})}),e.jsx("div",{className:"min-h-[78.5vh] bg-gradient-to-r to-orange-600 from-orange-700 flex flex-col justify-center sm:px-6 lg:px-8",children:e.jsx("div",{className:"mx-auto w-full max-w-lg p-5",children:e.jsxs("div",{className:"bg-white py-4 pb-8 pt-4 shadow rounded-lg sm:px-10 px-4",children:[e.jsx("p",{className:"text-3xl font-600 text-orange-700 text-center mb-3 pb-[10px] border-b-[1px] border-b-gray-200",children:"Login"}),p&&e.jsx("div",{className:"bg-orange-700/20 border-[1px] border-orange-700/50 shadow-lg flex gap-2 items-center justify-center mb-3 text-orange-700 text-lg py-1 rounded-[5px] ",children:e.jsxs("p",{className:"text-center ",children:[p," !"]})}),e.jsxs("form",{className:"space-y-4",onSubmit:E,children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"email",className:"block text-xl font-medium text-gray-700",children:"Email"}),e.jsx(b,{type:"email",required:!0,autoComplete:"email",placeholder:"Your email",name:"email",slotProps:{input:{startAdornment:e.jsx(x,{position:"start",children:a.iconMail})}},value:n,variant:"outlined",sx:u,onChange:t=>y(t.target.value),onInvalid:f,onInput:h})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"password",className:"block text-xl font-medium text-gray-700",children:"Password"}),e.jsx(b,{type:i?"text":"password",required:!0,autoComplete:"current-password",placeholder:"Your password",name:"password",slotProps:{input:{startAdornment:e.jsx(x,{position:"start",children:a.iconLock}),endAdornment:e.jsx(x,{position:"end",children:e.jsx("button",{onClick:()=>k(!i),children:i?a.iconEyeSlash:a.iconEye})})}},value:m,variant:"outlined",sx:u,onInvalid:f,onInput:h,onChange:t=>w(t.target.value)})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-[10px] shadow-sm text-lg font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition duration-200",children:I?"Login...":"Login"})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"No account?"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:()=>{s("/register")},type:"button",className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-[10px] shadow-sm text-lg font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition duration-200",children:"Register for a new account"})})]})]})})}),e.jsx(F,{})]})};export{T as default};
